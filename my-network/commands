./cryptogen generate --config=./crypto-config.yaml

export FABRIC_CFG_PATH=$PWD
./configtxgen -profile FourOrgsOrdererGenesis -channelID byfn-sys-channel -outputBlock ./channel-artifacts/genesis.block

/////////////////       FOR RAFT      ///////////////////
export FABRIC_CFG_PATH=$PWD
./configtxgen -profile MultiNodeEtcdRaft -channelID byfn-sys-channel -outputBlock ./channel-artifacts/genesis.block

export CHANNEL_NAME=mychannel
./configtxgen -profile FourOrgsChannel -outputCreateChannelTx ./channel-artifacts/mychannel.tx -channelID $CHANNEL_NAME

export CHANNEL_NAME=mychannel1
./configtxgen -profile FourOrgsChannel1 -outputCreateChannelTx ./channel-artifacts/mychannel1.tx -channelID $CHANNEL_NAME

$CHANNEL_NAME=mychannel
./configtxgen -profile FourOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Seller1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg SellerMSP
./configtxgen -profile FourOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Trader1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg TraderMSP
./configtxgen -profile FourOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Buyer1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg BuyerMSP
./configtxgen -profile FourOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Banker1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg BankerMSP
./configtxgen -profile FourOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Shipper1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg ShipperMSP

./configtxgen -profile FourOrgsChannel1 -outputAnchorPeersUpdate ./channel-artifacts/Buyer2MSPanchors.tx -channelID $CHANNEL_NAME -asOrg BuyerMSP
./configtxgen -profile FourOrgsChannel1 -outputAnchorPeersUpdate ./channel-artifacts/Trader2MSPanchors.tx -channelID $CHANNEL_NAME -asOrg TraderMSP
./configtxgen -profile FourOrgsChannel1 -outputAnchorPeersUpdate ./channel-artifacts/Banker2MSPanchors.tx -channelID $CHANNEL_NAME -asOrg BankerMSP
./configtxgen -profile FourOrgsChannel1 -outputAnchorPeersUpdate ./channel-artifacts/Shipper2MSPanchors.tx -channelID $CHANNEL_NAME -asOrg ShipperMSP

docker-compose -f docker-compose.yaml up

CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/seller-org/users/Admin@peer0.seller-org/msp
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID="Org1MSP"
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/seller-org/peers/peer0.seller-org/tls/ca.crt

peer channel create -o orderer.orderer-org:7050 -c $CHANNEL_NAME -f ./channel-artifacts/channel.tx --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/orderer-org/orderers/orderer.orderer-org/msp/tlscacerts/tlsca.orderer-org-cert.pem


export CHANNEL_NAME=mychannel
peer channel create -o orderer.orderer-org:7050 -c $CHANNEL_NAME -f ./channel-artifacts/channel.tx --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem

CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/trader-org/users/Admin@trader-org/msp CORE_PEER_ADDRESS=peer0.trader-org:9051 CORE_PEER_LOCALMSPID="traderOrg" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/trader-org/peers/peer0.trader-org/tls/ca.crt peer channel join -b mychannel.block
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/buyer-org/users/Admin@buyer-org/msp CORE_PEER_ADDRESS=peer0.buyer-org:9051 CORE_PEER_LOCALMSPID="buyerOrg" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/buyer-org/peers/peer0.buyer-org/tls/ca.crt peer channel join -b mychannel.block
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/banker-org/users/Admin@banker-org/msp CORE_PEER_ADDRESS=peer0.banker-org:9051 CORE_PEER_LOCALMSPID="bankerOrg" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/banker-org/peers/peer0.banker-org/tls/ca.crt peer channel join -b mychannel.block
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/shipper-org/users/Admin@shipper-org/msp CORE_PEER_ADDRESS=peer0.shipper-org:9051 CORE_PEER_LOCALMSPID="shipperOrg" CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/shipper-org/peers/peer0.shipper-org/tls/ca.crt peer channel join -b mychannel.block



docker rm -f $(docker ps -a -q)
